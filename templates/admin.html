<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POI数据管理系统</title>
    <!-- 引入Bootstrap 5（基础组件支持） -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 引入图标库 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!-- 引入自定义CSS（完全使用你提供的样式） -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
</head>
<body>
    <div class="container">
        <!-- 页面标题（适配CSS中h1的margin-bottom: 2rem） -->
        <h1>
            <i class="bi bi-database"></i> POI数据管理系统
        </h1>

        <!-- 顶部操作栏：类型选择 + 搜索 + 新增（适配CSS中.row的margin-bottom: 1.5rem） -->
        <div class="row">
            <!-- POI类型选择 -->
            <div class="col-md-3">
                <select id="poiType" class="form-select">
                    <option value="publicservices">公共服务</option>
                    <option value="wuhanmetro">武汉市地铁站点</option>
                    <option value="wuhanmiddleschool">武汉市中学</option>
                    <option value="wuhanprimaryschool">武汉市小学</option>
                </select>
            </div>
            <!-- 搜索框 -->
            <div class="col-md-6">
                <div class="input-group">
                    <input type="text" id="searchInput" class="form-control" placeholder="输入关键词搜索（名称/类型/地址）...">
                    <button class="btn btn-primary" onclick="searchData()">
                        <i class="bi bi-search"></i> 搜索
                    </button>
                </div>
            </div>
            <!-- 新增按钮 -->
            <div class="col-md-3 text-end">
                <button class="btn btn-success" onclick="openAddModal()">
                    <i class="bi bi-plus-circle"></i> 新增数据
                </button>
            </div>
        </div>

        <!-- 数据表格卡片（适配CSS中card的样式定义） -->
        <div class="card shadow-sm">
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover table-bordered">
                        <thead class="table-dark">
                            <tr id="tableHeader">
                                <!-- 表头动态渲染 -->
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                            <!-- 表格数据动态渲染 -->
                        </tbody>
                    </table>
                </div>

                <!-- 空数据提示（适配CSS中empty-tip样式） -->
                <div id="emptyTip" class="empty-tip d-none">
                    <i class="bi bi-folder-x text-muted fs-3"></i>
                    <p class="text-muted mt-2">暂无数据</p>
                </div>

                <!-- 加载提示（复用empty-tip样式） -->
                <div id="loadingTip" class="empty-tip d-none">
                    <i class="bi bi-hourglass-split text-muted fs-3"></i>
                    <p class="text-muted mt-2">加载中...</p>
                </div>

                <!-- 分页控件容器（适配CSS中pagination样式） -->
                <div id="pagination"></div>
            </div>
        </div>
    </div>

    <!-- 新增/编辑模态框（完全适配CSS中modal相关样式） -->
    <div class="modal fade" id="dataModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTitle">操作数据</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="dataForm">
                        <!-- 表单字段动态渲染（适配CSS中form相关样式） -->
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary" onclick="submitForm()">提交</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 确认删除模态框 -->
    <div class="modal fade" id="deleteModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">确认删除</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>确定要删除这条数据吗？此操作不可恢复</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-danger" onclick="confirmDelete()">确认删除</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 引入自定义JS -->
    <script src="{{ url_for('static', filename='js/admin.js') }}"></script>
</body>
</html>