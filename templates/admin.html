<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POI数据管理系统</title>
    <!-- 引入Bootstrap 5（基础组件支持） -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- 引入图标库 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <!-- 自定义CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
</head>
<body>
    <div class="container">
        <!-- 修复标题图标：确保bi-database类名正确 -->
        <h1>
            <i class="bi bi-database"></i> POI数据管理系统
        </h1>

        <!-- 顶部操作栏 -->
        <div class="row">
            <div class="col-md-3">
                <select id="poiType" class="form-select">
                    <option value="wuhanmetro">武汉市地铁站点</option>
                    <option value="wuhanmetroline">武汉市地铁线路</option>
                    <option value="metro10mincircle">地铁十分钟等时圈</option>
                    <option value="publicservices">公共服务</option>
                    <option value="wuhanmiddleschool">武汉市中学</option>
                    <option value="wuhanprimaryschool">武汉市小学</option>
                </select>
            </div>
            <div class="col-md-5">
                <div class="input-group">
                    <input type="text" id="searchInput" class="form-control" placeholder="输入关键词搜索（名称/类型/地址）...">
                    <button id="searchBtn" class="btn btn-primary">
                        <i class="bi bi-search"></i> 搜索
                    </button>
                </div>
            </div>
            <div class="col-md-4 text-end">
                <button id="addBtn" class="btn btn-success">
                    <i class="bi bi-plus-circle"></i> 新增数据
                </button>
                <button id="testDbBtn" class="btn btn-info ms-2">
                    <i class="bi bi-database-check"></i> 测试数据库连接
                </button>
            </div>
        </div>

        <!-- 数据表格卡片（保持不变） -->
        <div class="card shadow-sm">
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-hover table-bordered">
                        <thead class="table-dark">
                            <tr id="tableHeader">
                                <!-- 表头动态渲染 -->
                            </tr>
                        </thead>
                        <tbody id="dataTableBody">
                            <!-- 表格数据动态渲染 -->
                        </tbody>
                    </table>
                </div>

                <div id="emptyTip" class="empty-tip d-none">
                    <i class="bi bi-folder-x text-muted fs-3"></i>
                    <p class="text-muted mt-2">暂无数据</p>
                </div>

                <div id="loadingTip" class="empty-tip d-none">
                    <i class="bi bi-hourglass-split text-muted fs-3"></i>
                    <p class="text-muted mt-2">加载中...</p>
                </div>

                <!-- 分页容器：增加与截图匹配的样式容器 -->
                <div class="pagination-container" style="display: flex; align-items: center; gap: 8px; margin-top: 16px;">
                    <button id="prevPageBtn" class="btn btn-sm btn-outline-secondary">上一页</button>
                    <div id="pageNumberContainer" style="display: flex; gap: 4px;"></div>
                    <button id="nextPageBtn" class="btn btn-sm btn-outline-secondary">下一页</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 新增/编辑模态框（保持不变） -->
    <div class="modal fade" id="editModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editModalLabel">操作数据</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="editForm">
                        <!-- 表单字段动态渲染 -->
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-primary" onclick="submitForm()">提交</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 确认删除模态框（保持不变） -->
    <div class="modal fade" id="deleteModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">确认删除</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p id="deleteConfirmText">确定要删除这条数据吗？此操作不可恢复</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消</button>
                    <button type="button" class="btn btn-danger" onclick="confirmDelete()">确认删除</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- 自定义JS -->
    <script src="{{ url_for('static', filename='js/admin.js') }}"></script>
</body>
</html>